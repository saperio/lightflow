{"version":3,"sources":["dist/lightflow.js"],"names":["global","factory","define","amd","exports","mod","lightflow","this","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","default","params","Lightflow","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_typeof","Symbol","iterator","obj","constructor","clone","copy","Array","attr","hasOwnProperty","process","flow","data","label","active","idx","curStep","stepChain","currentCount","maxCounth","taskList","nextStep","stepId","forEach","taskDesc","maxCount","processTaskFn","stop","doneChain","item","task","call","context","looped","start","stopTask","_flow$stopTask","undefined","processTaskLabel","processTaskFunction","next","nextData","error","err","processError","count","processTaskFlow","loop","continueData","errorChain","filter","reduce","prev","catchChain","createTaskList","push","param","stepIdx","done","catch","_ref","nothrow","_len","arguments","_key","_len2","_key2","flag"],"mappings":"CAAA,SAAWA,EAAQC,GAClB,GAAsB,kBAAXC,SAAyBA,OAAOC,IAC1CD,QAAQ,WAAYD,OACd,IAAuB,mBAAZG,SACjBH,EAAQG,aACF,CACN,GAAIC,IACHD,WAEDH,GAAQI,EAAID,SACZJ,EAAOM,UAAYD,EAAID,UAEtBG,KAAM,SAAUH,GAClB,YAUA,SAASI,GAAgBC,EAAUC,GAClC,KAAMD,YAAoBC,IACzB,KAAM,IAAIC,WAAU,qCAVtBC,OAAOC,eAAeT,EAAS,cAC9BU,OAAO,IAGRV,EAAQW,QAAU,SAAUC,GAC3B,MAAO,IAAIC,GAAUD,OAStB,IAAIE,GAAe,WAClB,QAASC,GAAiBC,EAAQC,GACjC,IAAK,GAAIC,GAAI,EAAGA,EAAID,EAAME,OAAQD,IAAK,CACtC,GAAIE,GAAaH,EAAMC,EACvBE,GAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,SAAWF,KAAYA,EAAWG,UAAW,GACjDf,OAAOC,eAAeO,EAAQI,EAAWI,IAAKJ,IAIhD,MAAO,UAAUd,EAAamB,EAAYC,GAGzC,MAFID,IAAYV,EAAiBT,EAAYqB,UAAWF,GACpDC,GAAaX,EAAiBT,EAAaoB,GACxCpB,MAILsB,EAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,GAC7F,aAAcA,IACX,SAAUA,GACb,MAAOA,IAAyB,kBAAXF,SAAyBE,EAAIC,cAAgBH,OAAS,eAAkBE,IAkD1FE,EAAQ,QAASA,GAAMF,GAC1B,GAAIG,GAAO,MAEX,IAAY,OAARH,GAA8E,YAA9C,mBAARA,GAAsB,YAAcH,EAAQG,IACvE,MAAOA,EAGR,IAAIA,YAAeI,OAAO,CACzBD,IACA,KAAK,GAAIhB,GAAI,EAAGA,EAAIa,EAAIZ,SAAUD,EACjCgB,EAAKhB,GAAKe,EAAMF,EAAIb,GAErB,OAAOgB,GAGR,GAAIH,YAAevB,QAAQ,CAC1B0B,IACA,KAAK,GAAIE,KAAQL,GACZA,EAAIM,eAAeD,KACtBF,EAAKE,GAAQH,EAAMF,EAAIK,IAGzB,OAAOF,GAGR,MAAOH,IAGJO,EAAU,SAAiBC,EAAMC,EAAMC,GAE1C,GAAKF,EAAKG,OAAV,CAaA,GAAIH,EAAKI,KAAO,EAAG,CAClB,GAAIC,GAAUL,EAAKM,UAAUN,EAAKI,IAClC,MAAMC,EAAQE,aAAeF,EAAQG,UACpC,OAKF,GAAqB,gBAAVN,GACV,IAAK,GAAIvB,GAAI,EAAGA,EAAIqB,EAAKM,UAAU1B,SAAUD,EAC5C,GAAIqB,EAAKM,UAAU3B,GAAG8B,SAAS,GAAGP,QAAUA,EAAO,CAClDF,EAAKI,IAAMzB,CACX,OAMH,KAAMqB,EAAKI,IAAMJ,EAAKM,UAAU1B,OAAQ,CACvC,GAAI8B,GAAWV,EAAKM,UAAUN,EAAKI,OAEjCJ,EAAKW,OAEPD,EAASC,OAASX,EAAKW,OACvBD,EAASH,aAAe,EACxBG,EAASD,SAASG,QAAQ,SAAUC,GACnCA,EAASN,aAAe,EACxBM,EAASC,SAAW,EACpBD,EAASE,cAAcf,EAAMa,EAAUnB,EAAMO,UAG9CD,GAAKgB,OACLhB,EAAKiB,UAAUL,QAAQ,SAAUM,GAChC,MAAOA,GAAKC,KAAKC,KAAKF,EAAKG,QAASpB,KAGjCD,EAAKsB,QACRtB,EAAKuB,MAAMtB,OAjDZ,IAAID,EAAKwB,SAAU,CAClB,GAAIC,GAAiBzB,EAAKwB,SACtBL,EAAOM,EAAeN,KACtBE,EAAUI,EAAeJ,OAE7BF,GAAKC,KAAKC,EAASpB,GACnBD,EAAKwB,SAAWE,SAgDfC,EAAmB,SAA0B3B,EAAMa,EAAUZ,GAChEF,EAAQC,EAAMC,IAGX2B,EAAsB,SAA6B5B,EAAMa,EAAUZ,GACtE,GAAIkB,GAAON,EAASM,KAChBE,EAAUR,EAASQ,QACnBV,EAASX,EAAKW,OAEdkB,EAAO,SAAcC,EAAU5B,GAG9BS,IAAWX,EAAKW,UAAYE,EAASN,cAAgBM,EAASC,UACjEf,EAAQC,EAAM8B,EAAU5B,IAGtB6B,EAAQ,SAAeC,GAEtBrB,IAAWX,EAAKW,QACnBsB,EAAajC,EAAMgC,IAGjBE,EAAQ,SAAepB,GAC1B,MAAOD,GAASC,SAAWA,EAG5BK,GAAKC,KAAKC,GAAWQ,KAAMA,EAAME,MAAOA,EAAOG,MAAOA,EAAOjC,KAAMA,KAGhEkC,EAAkB,SAAyBnC,EAAMa,EAAUZ,GAC9D,GAAIkB,GAAON,EAASM,IAGpBA,GAAKiB,MAAK,GAAOb,MAAMtB,IAGpBgC,EAAe,SAAsBjC,EAAMgC,GAC9C,GAAIK,GAAerC,EAAKsC,WAAWC,OAAO,SAAUrB,GACnD,MAAOA,GAAKd,MAAQJ,EAAKI,MACvBoC,OAAO,SAAUC,EAAMvB,GACzB,GAAIjB,GAAOiB,EAAKC,KAAKC,KAAKF,EAAKG,QAASW,EACxC,OAAaN,UAATzB,EACIA,EAGDwC,GACLf,OAEkBA,UAAjBW,GAGHrC,EAAKM,UAAUN,EAAKI,KAAKG,aAAeP,EAAKM,UAAUN,EAAKI,KAAKI,UACjET,EAAQC,EAAMqC,KAEdrC,EAAKgB,OACLhB,EAAK0C,WAAWH,OAAO,SAAUrB,GAChC,MAAOA,GAAKd,KAAOJ,EAAKI,MACtBQ,QAAQ,SAAUM,GACpB,MAAOA,GAAKC,KAAKC,KAAKF,EAAKG,QAASW,OAKnCW,EAAiB,SAAwB3C,EAAM3B,GAClD,GAAIoC,KAEJ,OAAKpC,IAIoB,gBAAdA,GAAO,GACjBoC,EAASmC,MACR1C,MAAO7B,EAAO,GACd0C,cAAeY,IAGhBtD,EAAOuC,QAAQ,SAAUiC,GACH,kBAAVA,GACVpC,EAASmC,MACRzB,KAAM0B,EACN9B,cAAea,IAENiB,YAAiBvE,IAC3B,WACC,GAAIwE,GAAU9C,EAAKM,UAAU1B,MAE7BiE,GAAME,KAAK,SAAUjB,GAChB9B,EAAKM,UAAUwC,GAASnC,SAAWX,EAAKW,QAC3CZ,EAAQC,EAAM8B,KAEbkB,MAAM,SAAUhB,GACdhC,EAAKM,UAAUwC,GAASnC,SAAWX,EAAKW,QAC3CsB,EAAajC,EAAMgC,KAIrBvB,EAASmC,MACRzB,KAAM0B,EACN9B,cAAeoB,OAGP1B,EAAS7B,SACnB6B,EAASA,EAAS7B,OAAS,GAAGyC,QAAUwB,KAKpCpC,GAxCCA,GA2CLnC,EAAY,WACf,QAASA,GAAU2E,GAClB,GAAIC,GAAUD,EAAKC,OAEnBrF,GAAgBD,KAAMU,GAEtBV,KAAKsF,UAAYA,EACjBtF,KAAK+C,OAAS,EACd/C,KAAKwC,KAAM,EACXxC,KAAKuC,QAAS,EACdvC,KAAK0D,QAAS,EAEd1D,KAAK0C,aACL1C,KAAKqD,aACLrD,KAAK0E,cACL1E,KAAK8E,cAyFN,MAtFAnE,GAAaD,IACZW,IAAK,OACLd,MAAO,WACN,IAAK,GAAIgF,GAAOC,UAAUxE,OAAQP,EAASuB,MAAMuD,GAAOE,EAAO,EAAGA,EAAOF,EAAME,IAC9EhF,EAAOgF,GAAQD,UAAUC,EAG1B,IAAI5C,GAAWkC,EAAe/E,KAAMS,GAChCyC,EAAWL,EAAS7B,MAMxB,OAJIkC,IACHlD,KAAK0C,UAAUsC,MAAOnC,SAAUA,EAAUK,SAAUA,IAG9ClD,QAGRqB,IAAK,OACLd,MAAO,WACN,IAAK,GAAImF,GAAQF,UAAUxE,OAAQP,EAASuB,MAAM0D,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACnFlF,EAAOkF,GAASH,UAAUG,EAG3B,IAAI9C,GAAWkC,EAAe/E,KAAMS,GAChCyC,EAAW,CAMf,OAJIL,GAAS7B,QACZhB,KAAK0C,UAAUsC,MAAOnC,SAAUA,EAAUK,SAAUA,IAG9ClD,QAGRqB,IAAK,QACLd,MAAO,SAAegD,EAAME,GAC3B,GAAIjB,GAAMxC,KAAK0C,UAAU1B,OAAS,CAGlC,OADAhB,MAAK0E,WAAWM,MAAOzB,KAAMA,EAAME,QAASA,EAASjB,IAAKA,IACnDxC,QAGRqB,IAAK,QACLd,MAAO,SAAgBgD,EAAME,GAC5B,GAAIjB,GAAMxC,KAAK0C,UAAU1B,OAAS,CAGlC,OADAhB,MAAK8E,WAAWE,MAAOzB,KAAMA,EAAME,QAASA,EAASjB,IAAKA,IACnDxC,QAGRqB,IAAK,OACLd,MAAO,SAAcgD,EAAME,GAE1B,MADAzD,MAAKqD,UAAU2B,MAAOzB,KAAMA,EAAME,QAASA,IACpCzD,QAGRqB,IAAK,OACLd,MAAO,SAAcqF,GAEpB,MADA5F,MAAK0D,OAAkBI,SAAT8B,GAA4BA,EACnC5F,QAGRqB,IAAK,QACLd,MAAO,SAAe8B,GACrB,IAAIrC,KAAKuC,OAQT,MAJAvC,MAAKuC,QAAS,EACdvC,KAAKwC,KAAM,EAEXL,EAAQnC,KAAMqC,GACPrC,QAGRqB,IAAK,OACLd,MAAO,SAAcgD,EAAME,GAO1B,MANIzD,MAAKuC,SACRvC,KAAKuC,QAAS,EACVgB,IACHvD,KAAK4D,UAAaL,KAAMA,EAAME,QAASA,KAGlCzD,SAIFU","file":"dist/lightflow.min.js"}